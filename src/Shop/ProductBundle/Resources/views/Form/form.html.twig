{% extends '::main_platform.html.twig' %}

{% block title %}Добавить товар{% endblock %}

{% block stylesheet %}
    <link href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" type="text/css" rel="stylesheet">
    <!-- Bootstrap styling for Typeahead -->
    <link href="{{ asset("bootstrap/css/tokenfield-typeahead.min.css") }}" type="text/css" rel="stylesheet">
    <!-- Tokenfield CSS -->
    <link href="{{ asset("bootstrap/css/bootstrap-tokenfield.min.css") }}" type="text/css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.2.0/respond.min.js"></script>
    <![endif]-->
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-md-offset-2 col-md-8">
            <h3 class="alert alert-success text-center bottom20">Добавить товар</h3>
            <form action="{{ path('_addProduct', { 'shopname' : shopname }) }}" method="post" {{ form_enctype(form) }}>
                {{ form_errors(form) }}
                <div class="form-group">
                    {{ form_errors(form.hashTags) }}
                    {{ form_widget(form.hashTags) }}
                </div>
                <div class="form-group">
                    {{ form_errors(form.price) }}
                    {{ form_widget(form.price) }}
                </div>
                <div class="form-group">
                    {{ form_errors(form.text) }}
                    {{ form_widget(form.text) }}
                </div>
                <div class="form-group">
                    <div class="alert alert-warning bottom10" role="alert">
                        <strong>Добавить можно не более 4 картинок!</strong>
                    </div>
                    {{ form_label(form.file) }}
                    {{ form_errors(form.file) }}
                    {{ form_widget(form.file) }}
                    <div class="row top10">
                        <div id="preview-img" class="col-md-12">
                            {% if images is defined %}
                                {% for image in images %}
                                    <canvas class="img-thumbnail preview-img" width="150" height="150"></canvas>
                                {% endfor %}
                            {% else %}
                                <canvas class="img-thumbnail preview-img" width="150" height="150"></canvas>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="form-group" class="save">
                    {{ form_widget(form.save) }}
                </div>
                {{ form_rest(form) }}
            </form>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('bootstrap/js/bootstrap-tokenfield.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bootstrap/js/typeahead.bundle.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bootstrap/js/add-products.js') }}" type="text/javascript"></script>
{% endblock %}